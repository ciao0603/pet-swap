<header>
  <nav class="navbar navbar-expand-lg bg-primary" style="background-color: #e3f2fd;">
    <div class="container-fluid row">
      <div class="d-flex col-6">
        <a class="navbar-brand fw-bold" href="/" style="ont-size: 24px; text-decoration: none; color: black;">
          <i class="fa-solid fa-paw fa-lg" style="color: #ac610c;"></i>
          Pet Swap
        </a>
        {{#if user}}
        {{!-- 如果user尚未創建商店 --}}
        {{#ifEqual user.shopId null}}
        <a class="nav-link my-auto ms-2 fw-bold" style="color: #637a2f;word-break:keep-all"
          href="/shops/create">成為賣家&raquo;</a>
        {{/ifEqual}}
        {{/if}}
      </div>
      <button class="navbar-toggler m-2 " type="button" data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse col-6" id="navbarSupportedContent">
        <ul class="navbar-nav mb-2 mb-lg-0 ms-auto">
          {{#if user}}
          {{!-- 登入後 --}}
          {{#if user.isAdmin}}
          {{!-- 管理員帳號 --}}
          <li class="nav-item">
            <a class="nav-link fw-bold" href="/admin">Admin 後台</a>
          </li>
          <li><a class="nav-link" href="/logout">Logout</a></li>
          {{else}}
          {{!-- 普通帳號 --}}
          {{!-- 購物車 --}}
          <li class="nav-item">
            <a class="nav-link" href="/users/{{user.id}}/carts"><i class="fa-solid fa-cart-shopping"></i></a>
          </li>
          {{!-- 下拉清單 --}}
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle fw-bold" href="#" role="button" data-bs-toggle="dropdown"
              aria-expanded="false">
              {{user.name}}
            </a>
            <ul class="dropdown-menu dropdown-menu-end">
              {{!-- 普通帳號 --}}
              <li><a class="dropdown-item" href="/users/{{user.id}}">個人訊息</a></li>
              {{!-- 若該帳號有成立商店 --}}
              {{#if user.shopId}}<li><a class="dropdown-item" href="/shops/{{user.shopId}}">我的商店</a></li>{{/if}}
              <li><a class="dropdown-item" href="/users/{{user.id}}/orders">歷史訂單</a></li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li><a class="dropdown-item" href="/logout">Logout</a></li>
            </ul>
          </li>
          {{/if}}
          {{else}}
          {{!-- 登入前 --}}
          <li class="nav-item">
            <a class="nav-link" href="/register">Register</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/login">Login</a>
          </li>
          {{/if}}
        </ul>
      </div>
    </div>
  </nav>
</header>